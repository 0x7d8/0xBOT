{
  "version": 3,
  "sources": ["../../../src/commands/misc/commits.ts"],
  "sourcesContent": ["import { ActionRowBuilder, ButtonBuilder, ButtonStyle } from \"discord.js\"\nimport { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\nimport simpleGit from \"simple-git\"\n\nconst git = simpleGit()\n\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('commits')\n\t\t.setDMPermission(false)\n\t\t.setDescription('SEE ALL COMMITS')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'SEHE ALLE COMMITS'\n\t\t}),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\t// Get all Commits\n\t\tlet embedDesc = ''\n\t\tconst gitInfos = await git.log({\n\t\t\t'--pretty': 'format:{\"hash\":\"%h\",\"subject\":\"%s\",\"author\":\"%aN\",\"authorDate\":\"%ad\"}'\n\t\t}); const commits = gitInfos.all as any[]\n\n\t\t// Sort commits by authorDate\n\t\tcommits.sort((a: { authorDate: string }, b: { authorDate: string }) => {\n\t\t\tconst dateA = new Date(a.authorDate).getTime()\n\t\t\tconst dateB = new Date(b.authorDate).getTime()\n\t\t\treturn dateA - dateB\n\t\t})\n\n\t\tlet index = 0\n\t\tcommits.reverse().forEach((commit) => {\n\t\t\tcommits[index++] = { ...commit, count: index }\n\t\t})\n\n\t\t// Get the start and end indices for the current page\n\t\tconst startIndex = (Math.ceil(commits.length / 10) - 1) * 10\n\t\tconst endIndex = Math.min(startIndex + 10, commits.length)\n\n\t\t// Iterate over the elements on the current page\n\t\tfor (const element of commits.slice(startIndex, endIndex).reverse()) {\n\t\t\tconst count = element.count\n\t\t\tlet formattedCount = count.toString()\n\t\t\tif (count < 100) formattedCount = '0' + count\n\t\t\tif (count < 10) formattedCount = '00' + count\n\t\t\tembedDesc += `**\\`${formattedCount}.\\`** \u00BB ${element.message}\\n`\n\t\t}\n\n\t\t// Create Buttons\n\t\tlet row = new ActionRowBuilder()\n\t\t\t.addComponents(\n\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t.setEmoji('1055826473442873385')\n\t\t\t\t\t.setLabel('UPDATE')\n\t\t\t\t\t.setCustomId(`COMMITS-REFRESH-${commits.length}`)\n\t\t\t\t\t.setStyle(ButtonStyle.Primary),\n\n\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t.setEmoji('1055825023987888169')\n\t\t\t\t\t.setCustomId(`COMMITS-BACK-${commits.length}-${Math.ceil(commits.length / 10)}`)\n\t\t\t\t\t.setStyle(ButtonStyle.Secondary),\n\n\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t.setEmoji('1055825050126786590')\n\t\t\t\t\t.setCustomId(`COMMITS-NEXT-${commits.length}-${Math.ceil(commits.length / 10)}`)\n\t\t\t\t\t.setStyle(ButtonStyle.Secondary)\n\t\t\t\t\t.setDisabled(true),\n\t\t\t)\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\trow = new ActionRowBuilder()\n\t\t\t\t.addComponents(\n\t\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t\t.setEmoji('1055826473442873385')\n\t\t\t\t\t\t.setLabel('AKTUALISIEREN')\n\t\t\t\t\t\t.setCustomId(`COMMITS-REFRESH-${commits.length}`)\n\t\t\t\t\t\t.setStyle(ButtonStyle.Primary),\n\n\t\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t\t.setEmoji('1055825023987888169')\n\t\t\t\t\t\t.setCustomId(`COMMITS-BACK-${commits.length}-${Math.ceil(commits.length / 10)}`)\n\t\t\t\t\t\t.setStyle(ButtonStyle.Secondary),\n\n\t\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t\t.setEmoji('1055825050126786590')\n\t\t\t\t\t\t.setCustomId(`COMMITS-NEXT-${commits.length}-${Math.ceil(commits.length / 10)}`)\n\t\t\t\t\t\t.setStyle(ButtonStyle.Secondary)\n\t\t\t\t\t\t.setDisabled(true),\n\t\t\t\t)\n\t\t}\n\n\t\t// Create Embed\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:GLOBE:1024403680503529583> \u00BB GIT COMMITS')\n\t\t\t.setDescription(embedDesc)\n\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version + ' \u00BB PAGE ' + (Math.ceil(commits.length / 10)) })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:GLOBE:1024403680503529583> \u00BB GIT COMMITS')\n\t\t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version + ' \u00BB SEITE ' + (Math.ceil(commits.length / 10)) })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[CMD] COMMITS : ${commits.length} : ${Math.ceil(commits.length / 10)}`)\n\t\treturn ctx.interaction.reply({ embeds: [message], components: [row as any] }).catch(() => { })\n\t}\n}"],
  "mappings": "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",
  "names": ["import_discord", "simpleGit"]
}
