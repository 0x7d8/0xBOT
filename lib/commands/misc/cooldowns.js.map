{
  "version": 3,
  "sources": ["../../../src/commands/misc/cooldowns.ts"],
  "sourcesContent": ["import { ActionRowBuilder, ButtonBuilder, ButtonStyle } from \"discord.js\"\nimport { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\n\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('cooldowns')\n\t\t.setDescription('VIEW COOLDOWNS')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'SCHAUE COOLDOWNS AN'\n\t\t})\n\t\t.setDMPermission(false)\n\t\t.addUserOption((option) =>\n\t\t\toption.setName('user')\n\t\t\t\t.setDescription('THE USER')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DER NUTZER'\n\t\t\t\t})\n\t\t\t\t.setRequired(false)),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\tconst ms = (await import('pretty-ms')).default\n\n\t\t// Set Variables\n\t\tconst user = ctx.interaction.options.getUser(\"user\")\n\t\tlet userobj: typeof ctx.interaction.user\n\t\tif (!user) userobj = ctx.interaction.user\n\t\telse userobj = user\n\n\t\t// Get Results\n\t\tlet embedDesc = ''\n\t\tconst rawvalues = await ctx.db.query(`select name, expires from usercooldowns where userid = $1 and expires / 1000 > extract(epoch from now());`, [userobj.id])\n\t\tfor (const element of rawvalues.rows) {\n\t\t\tembedDesc += `\u00BB ${element.name.toUpperCase()}\\n**${ms((Number(element.expires) - Date.now()), { secondsDecimalDigits: 0 })}**\\n`\n\t\t}; if (embedDesc === '') { embedDesc = 'Nothing Found.'; if (ctx.metadata.language === 'de') { embedDesc = 'Nichts Gefunden.' } }\n\n\t\t// Create Button\n\t\tlet row = new ActionRowBuilder()\n\t\t\t.addComponents(\n\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t.setLabel('UPDATE')\n\t\t\t\t\t.setEmoji('1055826473442873385')\n\t\t\t\t\t.setCustomId(`COOLDOWNS-${userobj.id}-${String(!!user).toUpperCase()}`)\n\t\t\t\t\t.setStyle(ButtonStyle.Primary),\n\t\t\t)\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\trow = new ActionRowBuilder()\n\t\t\t\t.addComponents(\n\t\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t\t.setLabel('AKTUALISIEREN')\n\t\t\t\t\t\t.setEmoji('1055826473442873385')\n\t\t\t\t\t\t.setCustomId(`COOLDOWNS-${userobj.id}-${String(!!user).toUpperCase()}`)\n\t\t\t\t\t\t.setStyle(ButtonStyle.Primary),\n\t\t\t\t)\n\t\t}\n\t\t\n\t\t// Create Embeds\n\t\tlet message: EmbedBuilder\n\t\tif (!user) {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:CLOCK:1054137880345329714> \u00BB YOUR ACTIVE COOLDOWNS')\n\t\t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:CLOCK:1054137880345329714> \u00BB DEINE ATIVEN COOLDOWNS')\n\t\t\t\t\t.setDescription(embedDesc)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t} else {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:CLOCK:1054137880345329714> \u00BB ACTIVE COOLDOWNS OF ' + userobj.username.toUpperCase())\n\t\t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:CLOCK:1054137880345329714> \u00BB AKTIVE COOLDOWNS VON ' + userobj.username.toUpperCase())\n\t\t\t\t\t.setDescription(embedDesc)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[CMD] COOLDOWNS :${user ? ` ${user.id} :` : ''} ${rawvalues.rowCount}`)\n\t\treturn ctx.interaction.reply({ embeds: [message], components: [row as any] })\n\t}\n}"],
  "mappings": "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",
  "names": ["import_discord"]
}
