{
  "version": 3,
  "sources": ["../../../src/commands/misc/leveltop.ts"],
  "sourcesContent": ["import { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\n\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('leveltop')\n\t\t.setDMPermission(false)\n\t\t.setDescription('SEE THE TOP LEVELS')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'SEHE DIE TOP LEVEL'\n\t\t}),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\t// Defer Reply\n\t\tawait ctx.interaction.deferReply()\n\n\t\t// Get Top Money\n\t\tlet embedDesc = ''; let count = 0\n\t\tconst rawvalues = await ctx.db.query(`select * from stats where name like $1 and type = 'msg' order by value desc;`, ['%' + ctx.interaction.guild.id + '-C'])\n\t\tfor (const element of rawvalues.rows) {\n\t\t\tcount++\n\t\t\tlet formattedcount = count.toString()\n\n\t\t\tconst cache = element.name.split('-')\n\t\t\t// Calculate Level\n\t\t\tconst XP = Math.round(element.value / 5)\n\t\t\tlet level = 0, levelXP = XP\n\t\t\twhile (levelXP >= 500) {\n\t\t\t\tlevel++; levelXP -= 500\n\t\t\t}\n\n\t\t\tif (count < 10) formattedcount = '0' + count\n\t\t\tif (cache[1] !== ctx.interaction.user.id) embedDesc += `\\`${formattedcount}.\\` \u00BB <@${cache[1]}> (**LVL ${level}, ${XP} XP**)\\n`\n\t\t\telse embedDesc += `**\\`${formattedcount}.\\`** \u00BB <@${cache[1]}> (**LVL ${level}, ${XP} XP**)\\n`\n\t\t}; if (embedDesc === '') { embedDesc = 'Nothing to Display.'; if (ctx.metadata.language === 'de') { embedDesc = 'Nichts zum Anzeigen.' } }\n\t\t\n\t\t// Create Embed\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:GLOBE:1024403680503529583> \u00BB TOP LEVELS')\n  \t\t.setDescription(embedDesc)\n\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:GLOBE:1024403680503529583> \u00BB TOP LEVEL')\n  \t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[CMD] LEVELTOP`)\n\t\treturn ctx.interaction.editReply({ embeds: [message] }).catch(() => {})\n\t}\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAkD;AAGlD,IAAO,mBAAQ;AAAA,EACd,MAAM,IAAI,mCAAoB,EAC5B,QAAQ,UAAU,EAClB,gBAAgB,KAAK,EACrB,eAAe,oBAAoB,EACnC,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC;AAAA,EAEF,MAAM,QAAQ,KAAyB;AAEtC,UAAM,IAAI,YAAY,WAAW;AAGjC,QAAI,YAAY;AAAI,QAAI,QAAQ;AAChC,UAAM,YAAY,MAAM,IAAI,GAAG,MAAM,gFAAgF,CAAC,MAAM,IAAI,YAAY,MAAM,KAAK,IAAI,CAAC;AAC5J,eAAW,WAAW,UAAU,MAAM;AACrC;AACA,UAAI,iBAAiB,MAAM,SAAS;AAEpC,YAAM,QAAQ,QAAQ,KAAK,MAAM,GAAG;AAEpC,YAAM,KAAK,KAAK,MAAM,QAAQ,QAAQ,CAAC;AACvC,UAAI,QAAQ,GAAG,UAAU;AACzB,aAAO,WAAW,KAAK;AACtB;AAAS,mBAAW;AAAA,MACrB;AAEA,UAAI,QAAQ;AAAI,yBAAiB,MAAM;AACvC,UAAI,MAAM,CAAC,MAAM,IAAI,YAAY,KAAK;AAAI,qBAAa,KAAK,4BAAyB,MAAM,CAAC,aAAa,UAAU;AAAA;AAAA;AAC9G,qBAAa,OAAO,8BAA2B,MAAM,CAAC,aAAa,UAAU;AAAA;AAAA,IACnF;AAAC;AAAE,QAAI,cAAc,IAAI;AAAE,kBAAY;AAAuB,UAAI,IAAI,SAAS,aAAa,MAAM;AAAE,oBAAY;AAAA,MAAuB;AAAA,IAAE;AAGzI,QAAI,UAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAChD,SAAS,8CAA2C,EACnD,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAEvF,QAAI,IAAI,SAAS,aAAa,MAAM;AACnC,gBAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAC5C,SAAS,6CAA0C,EAClD,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAAA,IACxF;AAGA,QAAI,IAAI,OAAO,gBAAgB;AAC/B,WAAO,IAAI,YAAY,UAAU,EAAE,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,MAAM,MAAM;AAAA,IAAC,CAAC;AAAA,EACvE;AACD;",
  "names": []
}
