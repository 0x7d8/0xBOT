{
  "version": 3,
  "sources": ["../../../src/commands/admin/clear.ts"],
  "sourcesContent": ["import { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\nimport { PermissionFlagsBits } from \"discord-api-types/v10\"\n\nimport { Message, ChannelType } from \"discord.js\"\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('clear')\n\t\t.setDescription('CLEAR MESSAGES')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'ENTFERNE NACHRICHTEN'\n\t\t})\n\t\t.setDMPermission(false)\n\t\t.addIntegerOption((option) =>\n\t\t\toption.setName('amount')\n\t\t\t\t.setNameLocalizations({\n\t\t\t\t\tde: 'anzahl'\n\t\t\t\t})\n\t\t\t\t.setDescription('THE AMOUNT OF MESSAGES')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DIE ANZAHL AN NACHRICHTEN'\n\t\t\t\t})\n\t\t\t\t.setRequired(true))\n\t\t.addUserOption((option) =>\n\t\t\toption.setName('user')\n\t\t\t\t.setNameLocalizations({\n\t\t\t\t\tde: 'nutzer'\n\t\t\t\t})\n\t\t\t\t.setDescription('THE TARGET')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DAS ZIEL'\n\t\t\t\t})\n\t\t\t\t.setRequired(false))\n\t\t.setDefaultMemberPermissions(PermissionFlagsBits.ManageMessages),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\t// Check if Channel is wrong type\n\t\tif (ctx.interaction.channel.type === ChannelType.GuildStageVoice) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB I dont think I can do that here!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB Ich denke nicht, dass ich das hier machen kann!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[CMD] CLEAR : WRONGCHANNEL`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}\n\n\t\t// Check if Bot has Permission\n\t\tif (!ctx.interaction.appPermissions?.has('ManageMessages')) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB I dont think I have the **MANAGE MESSAGES** Permission!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB Ich denke nicht, dass ich die **NACHRICHTEN VERWALTEN** Berechtigung habe!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[CMD] CLEAR : NOPERM`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}; if (!ctx.interaction.appPermissions?.has('ViewChannel')) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB I dont think I have the **VIEW CHANNEL** Permission!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB Ich denke nicht, dass ich die **KAN\u00C4LE ANSEHEN** Berechtigung habe!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[CMD] CLEAR : NOPERM`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}\n\n\t\t// Set Variables\n\t\tconst amount = ctx.getOption('amount') as number\n\t\tconst target = ctx.interaction.options.getUser(\"user\")\n\t\tconst messages = ctx.interaction.channel?.messages.fetch()\n\n\t\t// Check if Message Amount is Negative\n\t\tif (amount < 1) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB You have to delete atleast **1** Message!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\tif (ctx.metadata.language === 'de') {\n\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB Du musst mindestens **1** Nachricht l\u00F6schen!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[CMD] CLEAR : NOTENOUGH : ${amount}`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}\n\n\t\t// Delete Messages and Send Message\n\t\tif (target !== null) {\n\t\t\tconst filtered = []\n\t\t\tlet i = 0\n\n\t\t\t{(await messages).filter((message: Message) => {\n\t\t\t\tif(message.author.id === target.id && amount > i) {\n\t\t\t\t\tfiltered.push(message)\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t})}\n\n\t\t\tawait ctx.interaction.channel?.bulkDelete(filtered, true).then((messages) => {\n\t\t\t\t// Create Embed\n\t\t\t\tlet message: EmbedBuilder\n\t\t\t\tif (messages.size == 1) {\n\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t.setTitle('\u00BB DELETE MESSAGES')\n\t\t\t\t\t\t.setDescription(`\u00BB You deleted **${messages.size}** Message from <@${target}>!`)\n\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\n\t\t\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t\t.setTitle('\u00BB NACHRICHTEN L\u00D6SCHEN')\n\t\t\t\t\t\t\t.setDescription(`\u00BB Du hast **${messages.size}** Nachricht von <@${target}> gel\u00F6scht!`)\n\t\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t.setTitle('\u00BB DELETE MESSAGES')\n\t\t\t\t\t\t.setDescription(`\u00BB You deleted **${messages.size}** Messages from <@${target}>!`)\n\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\n\t\t\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t\t.setTitle('\u00BB NACHRICHTEN L\u00D6SCHEN')\n\t\t\t\t\t\t\t.setDescription(`\u00BB Du hast **${messages.size}** Nachrichten von <@${target}> gel\u00F6scht!`)\n\t\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Send Message\n\t\t\t\tctx.log(false, '[CMD] CLEAR : ' + target + ' : ' + amount)\n\t\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t\t})\n\t\t} else {\n\t\t\tawait ctx.interaction.channel?.bulkDelete(amount, true).then((messages) => {\n\t\t\t\t// Create Embed\n\t\t\t\tlet message: EmbedBuilder\n\t\t\t\tif (messages.size == 1) {\n\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t.setTitle('\u00BB DELETE MESSAGES')\n\t\t\t\t\t\t.setDescription(`\u00BB You deleted **${messages.size}** Message!`)\n\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\n\t\t\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t\t.setTitle('\u00BB NACHRICHTEN L\u00D6SCHEN')\n\t\t\t\t\t\t\t.setDescription(`\u00BB Du hast **${messages.size}** Nachricht gel\u00F6scht!`)\n\t\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t.setTitle('\u00BB DELETE MESSAGES')\n\t\t\t\t\t\t.setDescription(`\u00BB You deleted **${messages.size}** Messages!`)\n\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\n\t\t\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t\t\t.setTitle('\u00BB NACHRICHTEN L\u00D6SCHEN')\n\t\t\t\t\t\t\t.setDescription(`\u00BB Du hast **${messages.size}** Nachrichten gel\u00F6scht!`)\n\t\t\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Send Message\n\t\t\t\tctx.log(false, `[CMD] CLEAR : ${amount}`)\n\t\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t\t})\n\t\t}\n\t}\n}"],
  "mappings": "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",
  "names": ["import_discord", "messages"]
}
