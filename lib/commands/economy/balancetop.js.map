{
  "version": 3,
  "sources": ["../../../src/commands/economy/balancetop.ts"],
  "sourcesContent": ["import { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\n\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('balancetop')\n\t\t.setDMPermission(false)\n\t\t.setDescription('SEE THE TOP BALANCE')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'SEHE DEN KONTOSTAND'\n\t\t})\n\t\t.addStringOption((option) =>\n\t\t\toption.setName('list')\n\t\t\t\t.setNameLocalizations({\n\t\t\t\t\tde: 'liste'\n\t\t\t\t})\n\t\t\t\t.setDescription('THE LIST')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DIE LISTE'\n\t\t\t\t})\n\t\t\t\t.setRequired(true)\n\t\t\t\t.addChoices(\n\t\t\t\t\t// Setup Choices\n\t\t\t\t\t{ name: '\uD83C\uDF0D GLOBAL', value: 'global' },\n\t\t\t\t\t{ name: '\uD83C\uDFD8\uFE0F SERVER', value: 'server' },\n\t\t\t\t)),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\t// Set Variables\n\t\tconst listtype = ctx.getOption('list') as string\n\n\t\t// Defer Reply\n\t\tawait ctx.interaction.deferReply()\n\n\t\t// Get Top Money\n\t\tlet embedDesc = ''; let count = 0\n\t\tif (listtype === 'global') {\n\t\t\tconst rawvalues = await ctx.db.query(`select * from usermoney order by money DESC`)\n\t\t\tfor (const element of rawvalues.rows) {\n\t\t\t\tif (count >= 10) break\n\n\t\t\t\tlet skip = false\n\t\t\t\tconst userinfo = await ctx.bot.userdb.get(element.userid)\n\t\t\t\tif (!skip) {\n\t\t\t\t\tcount++\n\t\t\t\t\tlet formattedcount = count.toString()\n\t\t\t\t\tif (count < 10) formattedcount = '0' + count\n\t\t\t\t\tif (element.userid !== ctx.interaction.user.id) embedDesc += `\\`${formattedcount}.\\` \u00BB ${userinfo.username}#${userinfo.usertag} (**${element.money}\u20AC**)\\n`\n\t\t\t\t\telse embedDesc += `**\\`${formattedcount}.\\`** \u00BB ${userinfo.username}#${userinfo.usertag} (**${element.money}\u20AC**)\\n`\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst rawvalues = await ctx.db.query(`select * from usermoney where $1 = any(guilds) order by money DESC limit 10`, [ctx.interaction.guild.id])\n\t\t\tfor (const element of rawvalues.rows) {\n\t\t\t\tcount++\n\t\t\t\tlet formattedcount = count.toString()\n\t\t\t\tif (count < 10) formattedcount = '0' + count\n\t\t\t\tif (element.userid !== ctx.interaction.user.id) embedDesc += `\\`${formattedcount}.\\` \u00BB <@${element.userid}> (**${element.money}\u20AC**)\\n`\n\t\t\t\telse embedDesc += `**\\`${formattedcount}.\\`** \u00BB <@${element.userid}> (**${element.money}\u20AC**)\\n`\n\t\t\t}\n\t\t}; if (embedDesc === '') { embedDesc = 'Nothing to Display.'; if (ctx.metadata.language === 'de') { embedDesc = 'Nichts zum Anzeigen.' } }\n\t\t\n\t\t// Create Embed\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:WALLET:1024387370793050273> \u00BB TOP BALANCES [' + listtype.toUpperCase() + ']')\n  \t\t.setDescription(embedDesc)\n\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:WALLET:1024387370793050273> \u00BB TOP KONTOST\u00C4NDE [' + listtype.toUpperCase() + ']')\n  \t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[CMD] BALANCETOP : ${listtype.toString().toUpperCase()}`)\n\t\treturn ctx.interaction.editReply({ embeds: [message] }).catch(() => {})\n\t}\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAkD;AAGlD,IAAO,qBAAQ;AAAA,EACd,MAAM,IAAI,mCAAoB,EAC5B,QAAQ,YAAY,EACpB,gBAAgB,KAAK,EACrB,eAAe,qBAAqB,EACpC,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC,EACA,gBAAgB,CAAC,WACjB,OAAO,QAAQ,MAAM,EACnB,qBAAqB;AAAA,IACrB,IAAI;AAAA,EACL,CAAC,EACA,eAAe,UAAU,EACzB,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC,EACA,YAAY,IAAI,EAChB;AAAA;AAAA,IAEA,EAAE,MAAM,oBAAa,OAAO,SAAS;AAAA,IACrC,EAAE,MAAM,0BAAc,OAAO,SAAS;AAAA,EACvC,CAAC;AAAA,EAEJ,MAAM,QAAQ,KAAyB;AAEtC,UAAM,WAAW,IAAI,UAAU,MAAM;AAGrC,UAAM,IAAI,YAAY,WAAW;AAGjC,QAAI,YAAY;AAAI,QAAI,QAAQ;AAChC,QAAI,aAAa,UAAU;AAC1B,YAAM,YAAY,MAAM,IAAI,GAAG,MAAM,6CAA6C;AAClF,iBAAW,WAAW,UAAU,MAAM;AACrC,YAAI,SAAS;AAAI;AAEjB,YAAI,OAAO;AACX,cAAM,WAAW,MAAM,IAAI,IAAI,OAAO,IAAI,QAAQ,MAAM;AACxD,YAAI,CAAC,MAAM;AACV;AACA,cAAI,iBAAiB,MAAM,SAAS;AACpC,cAAI,QAAQ;AAAI,6BAAiB,MAAM;AACvC,cAAI,QAAQ,WAAW,IAAI,YAAY,KAAK;AAAI,yBAAa,KAAK,0BAAuB,SAAS,YAAY,SAAS,cAAc,QAAQ;AAAA;AAAA;AACxI,yBAAa,OAAO,4BAAyB,SAAS,YAAY,SAAS,cAAc,QAAQ;AAAA;AAAA,QACvG;AAAA,MACD;AAAA,IACD,OAAO;AACN,YAAM,YAAY,MAAM,IAAI,GAAG,MAAM,+EAA+E,CAAC,IAAI,YAAY,MAAM,EAAE,CAAC;AAC9I,iBAAW,WAAW,UAAU,MAAM;AACrC;AACA,YAAI,iBAAiB,MAAM,SAAS;AACpC,YAAI,QAAQ;AAAI,2BAAiB,MAAM;AACvC,YAAI,QAAQ,WAAW,IAAI,YAAY,KAAK;AAAI,uBAAa,KAAK,4BAAyB,QAAQ,cAAc,QAAQ;AAAA;AAAA;AACpH,uBAAa,OAAO,8BAA2B,QAAQ,cAAc,QAAQ;AAAA;AAAA,MACnF;AAAA,IACD;AAAC;AAAE,QAAI,cAAc,IAAI;AAAE,kBAAY;AAAuB,UAAI,IAAI,SAAS,aAAa,MAAM;AAAE,oBAAY;AAAA,MAAuB;AAAA,IAAE;AAGzI,QAAI,UAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAChD,SAAS,sDAAmD,SAAS,YAAY,IAAI,GAAG,EACvF,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAEvF,QAAI,IAAI,SAAS,aAAa,MAAM;AACnC,gBAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAC5C,SAAS,4DAAsD,SAAS,YAAY,IAAI,GAAG,EAC1F,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAAA,IACxF;AAGA,QAAI,IAAI,OAAO,sBAAsB,SAAS,SAAS,EAAE,YAAY,GAAG;AACxE,WAAO,IAAI,YAAY,UAAU,EAAE,QAAQ,CAAC,OAAO,EAAE,CAAC,EAAE,MAAM,MAAM;AAAA,IAAC,CAAC;AAAA,EACvE;AACD;",
  "names": []
}
