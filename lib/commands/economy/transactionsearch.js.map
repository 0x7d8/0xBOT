{
  "version": 3,
  "sources": ["../../../src/commands/economy/transactionsearch.ts"],
  "sourcesContent": ["import { SlashCommandBuilder, EmbedBuilder } from \"discord.js\"\n\nimport CommandInteraction from \"@/interfaces/CommandInteraction\"\nexport default {\n\tdata: new SlashCommandBuilder()\n\t\t.setName('transactionsearch')\n\t\t.setDescription('SEARCH A TRANSACTION')\n\t\t.setDescriptionLocalizations({\n\t\t\tde: 'SUCHE EINE TRANSAKTION'\n\t\t})\n\t\t.setDMPermission(false)\n\t\t.addUserOption((option) =>\n\t\t\toption.setName('sender')\n\t\t\t\t.setDescription('THE SENDER')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DER SENDER'\n\t\t\t\t})\n\t\t\t\t.setRequired(false))\n\t\t.addUserOption((option) =>\n\t\t\toption.setName('reciever')\n\t\t\t\t.setNameLocalizations({\n\t\t\t\t\tde: 'empf\u00E4nger'\n\t\t\t\t})\n\t\t\t\t.setDescription('THE RECIEVER')\n\t\t\t\t.setDescriptionLocalizations({\n\t\t\t\t\tde: 'DER EMPF\u00C4NGER'\n\t\t\t\t})\n\t\t\t\t.setRequired(false)),\n\n\tasync execute(ctx: CommandInteraction) {\n\t\t// Set Variables\n\t\tconst sender = ctx.interaction.options.getUser(\"sender\")\n\t\tconst reciever = ctx.interaction.options.getUser(\"reciever\")\n\n\t\t// Get Results\n\t\tlet embedDesc = ''; let rawvalues: any\n\t\tif (sender && reciever) {\n\t\t\trawvalues = await ctx.db.query(`select * from usertransactions where senderid = $1 and recieverid = $2 order by timestamp desc limit 20;`, [\n\t\t\t\tsender.id,\n\t\t\t\treciever.id\n\t\t\t])\n\t\t} else if (sender && !reciever) {\n\t\t\trawvalues = await ctx.db.query(`select * from usertransactions where senderid = $1 order by timestamp desc limit 20;`, [\n\t\t\t\tsender.id\n\t\t\t])\n\t\t} else if (!sender && reciever) {\n\t\t\trawvalues = await ctx.db.query(`select * from usertransactions where recieverid = $1 order by timestamp desc limit 20;`, [\n\t\t\t\treciever.id\n\t\t\t])\n\t\t} else {\n\t\t\trawvalues = await ctx.db.query(`select * from usertransactions order by timestamp desc limit 20;`)\n\t\t}\n\n\t\tfor (const element of rawvalues.rows) {\n\t\t\tif (ctx.metadata.language === 'de') embedDesc += `\u00BB ${(/^\\d/.test(element.senderid) ? `<@${element.senderid}>` : element.senderid)} | **${element.senderamount}\u20AC** -> ${(/^\\d/.test(element.recieverid) ? `<@${element.recieverid}>` : element.recieverid)}\\nID: \\`${element.id}\\`\\n`\n\t\t\telse embedDesc += `\u00BB ${(/^\\d/.test(element.senderid) ? `<@${element.senderid}>` : element.senderid)} | **$${element.senderamount}** -> ${(/^\\d/.test(element.recieverid) ? `<@${element.recieverid}>` : element.recieverid)}\\nID: \\`${element.id}\\`\\n`\n\t\t}; if (embedDesc === '') { embedDesc = 'Nothing Found.'; if (ctx.metadata.language === 'de') { embedDesc = 'Nichts Gefunden.' } }\n\t\t\n\t\t// Create Embeds\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:BAG:1024389219558367292> \u00BB TRANSACTION SEARCH')\n  \t\t.setDescription(embedDesc)\n\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:BAG:1024389219558367292> \u00BB TRANSAKTIONS SUCHE')\n  \t\t\t.setDescription(embedDesc)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[CMD] TRANSACTIONSEARCH : ${sender ? 'EMPTY' : sender.id} : ${reciever ? 'EMPTY' : reciever.id}`)\n\t\treturn ctx.interaction.reply({ embeds: [message] })\n\t}\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAkD;AAGlD,IAAO,4BAAQ;AAAA,EACd,MAAM,IAAI,mCAAoB,EAC5B,QAAQ,mBAAmB,EAC3B,eAAe,sBAAsB,EACrC,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC,EACA,gBAAgB,KAAK,EACrB,cAAc,CAAC,WACf,OAAO,QAAQ,QAAQ,EACrB,eAAe,YAAY,EAC3B,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC,EACA,YAAY,KAAK,CAAC,EACpB,cAAc,CAAC,WACf,OAAO,QAAQ,UAAU,EACvB,qBAAqB;AAAA,IACrB,IAAI;AAAA,EACL,CAAC,EACA,eAAe,cAAc,EAC7B,4BAA4B;AAAA,IAC5B,IAAI;AAAA,EACL,CAAC,EACA,YAAY,KAAK,CAAC;AAAA,EAEtB,MAAM,QAAQ,KAAyB;AAEtC,UAAM,SAAS,IAAI,YAAY,QAAQ,QAAQ,QAAQ;AACvD,UAAM,WAAW,IAAI,YAAY,QAAQ,QAAQ,UAAU;AAG3D,QAAI,YAAY;AAAI,QAAI;AACxB,QAAI,UAAU,UAAU;AACvB,kBAAY,MAAM,IAAI,GAAG,MAAM,4GAA4G;AAAA,QAC1I,OAAO;AAAA,QACP,SAAS;AAAA,MACV,CAAC;AAAA,IACF,WAAW,UAAU,CAAC,UAAU;AAC/B,kBAAY,MAAM,IAAI,GAAG,MAAM,wFAAwF;AAAA,QACtH,OAAO;AAAA,MACR,CAAC;AAAA,IACF,WAAW,CAAC,UAAU,UAAU;AAC/B,kBAAY,MAAM,IAAI,GAAG,MAAM,0FAA0F;AAAA,QACxH,SAAS;AAAA,MACV,CAAC;AAAA,IACF,OAAO;AACN,kBAAY,MAAM,IAAI,GAAG,MAAM,kEAAkE;AAAA,IAClG;AAEA,eAAW,WAAW,UAAU,MAAM;AACrC,UAAI,IAAI,SAAS,aAAa;AAAM,qBAAa,QAAM,MAAM,KAAK,QAAQ,QAAQ,IAAI,KAAK,QAAQ,cAAc,QAAQ,gBAAiB,QAAQ,2BAAuB,MAAM,KAAK,QAAQ,UAAU,IAAI,KAAK,QAAQ,gBAAgB,QAAQ;AAAA,QAAsB,QAAQ;AAAA;AAAA;AACxQ,qBAAa,QAAM,MAAM,KAAK,QAAQ,QAAQ,IAAI,KAAK,QAAQ,cAAc,QAAQ,iBAAkB,QAAQ,qBAAsB,MAAM,KAAK,QAAQ,UAAU,IAAI,KAAK,QAAQ,gBAAgB,QAAQ;AAAA,QAAsB,QAAQ;AAAA;AAAA,IAC/O;AAAC;AAAE,QAAI,cAAc,IAAI;AAAE,kBAAY;AAAkB,UAAI,IAAI,SAAS,aAAa,MAAM;AAAE,oBAAY;AAAA,MAAmB;AAAA,IAAE;AAGhI,QAAI,UAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAChD,SAAS,oDAAiD,EACzD,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAEvF,QAAI,IAAI,SAAS,aAAa,MAAM;AACnC,gBAAU,IAAI,4BAAa,EAAE,SAAS,OAAQ,EAC5C,SAAS,oDAAiD,EACzD,eAAe,SAAS,EACzB,UAAU,EAAE,MAAM,UAAO,IAAI,SAAS,KAAK,OAAO,WAAQ,IAAI,OAAO,OAAO,QAAQ,CAAC;AAAA,IACxF;AAGA,QAAI,IAAI,OAAO,6BAA6B,SAAS,UAAU,OAAO,QAAQ,WAAW,UAAU,SAAS,IAAI;AAChH,WAAO,IAAI,YAAY,MAAM,EAAE,QAAQ,CAAC,OAAO,EAAE,CAAC;AAAA,EACnD;AACD;",
  "names": []
}
