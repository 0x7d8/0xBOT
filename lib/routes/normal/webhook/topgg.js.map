{
  "version": 3,
  "sources": ["../../../../src/routes/normal/webhook/topgg.ts"],
  "sourcesContent": ["import { HTTPRouteFile } from \"@/interfaces/Webserver\"\n\ninterface Body {\n\tuser?: string\n}\n\nimport { EmbedBuilder } from \"discord.js\"\n\nexport = {\n\tmethod: 'POST',\n\tpath: '/webhook/topgg',\n\n\tasync code(ctr) {\n\t\t// Check Authorization\n\t\tif (ctr.headers.get('authorization') !== ctr['@'].config.web.keys.topgg.webkey) return ctr.status(401).print({ success: false, message: 'WRONG AUTHORIZATION' })\n\t\tif (!ctr.body.user) return\n\n\t\tconst random = ctr['@'].bot.random(7500, 15000)\n\n\t\t// Calculate Extra\n\t\tlet extra: number\n\t\tif ((await ctr['@'].bot.votes.get(ctr.body.user + '-A')+1) % 10 === 0) extra = ((await ctr['@'].bot.votes.get(ctr.body.user + '-A')+1) * 10000)/2\n\n\t\t// Create Embeds\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('\u00BB VOTING')\n\t\t\t.setDescription(`\u00BB Thanks for Voting! You got **\\$${random}** from me :)\\n\u00BB Danke f\u00FCrs Voten! Du hast **${random}\u20AC** von mir erhalten :)`)\n\t\t\t.setFooter({ text: '\u00BB ' + ctr['@'].config.version })\n\t\tif (await ctr['@'].bot.language.get(ctr.body.user) === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('\u00BB VOTING')\n\t\t\t\t.setDescription(`\u00BB Danke f\u00FCrs Voten! Du hast **${random}\u20AC** von mir erhalten :)`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctr['@'].config.version })\n\t\t} else {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('\u00BB VOTING')\n\t\t\t\t.setDescription(`\u00BB Thanks for Voting! You got **\\$${random}** from me :)`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctr['@'].config.version })\n\t\t}; let messageBonus = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('\u00BB VOTING')\n\t\t\t.setDescription(`\u00BB Thanks for Voting **${(await ctr['@'].bot.votes.get(ctr.body.user + '-A')) + 1}** times!\\nAs A Gift I give you extra **\\$${extra}**!`)\n\t\t\t.setFooter({ text: '\u00BB ' + ctr['@'].config.version })\n\t\tif (await ctr['@'].bot.language.get(ctr.body.user) === 'de') {\n\t\t\tmessageBonus = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('\u00BB VOTING')\n\t\t\t\t.setDescription(`\u00BB Danke, dass du **${(await ctr['@'].bot.votes.get(ctr.body.user + '-A')) + 1}** mal gevotet hast!\\nAls Geschenk gebe ich dir extra **${extra}\u20AC**!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctr['@'].config.version })\n\t\t}\n\n\t\t// Add Money\n\t\tawait ctr['@'].bot.money.add(false, ctr.body.user, random)\n\t\tconsole.log(`[0xBOT] [i] [${new Date().toLocaleTimeString('en-US', { hour12: false })}] [WEB] VOTED : ${ctr.body.user} : ${random}\u20AC : TOPGG`)\n\n\t\t// Send Message\n\t\tctr['@'].client.users.send(ctr.body.user, { embeds: [message] })\n\n\t\t// Count to Stats\n\t\tif ((await ctr['@'].bot.votes.get(ctr.body.user + '-A')+1) % 10 === 0) {\n\t\t\tctr['@'].bot.money.add(false, ctr.body.user, extra)\n\t\t\tctr['@'].client.users.send(ctr.body.user, { embeds: [messageBonus] })\n\t\t}; ctr['@'].bot.votes.add(ctr.body.user + '-A', 1)\n\t\tctr['@'].bot.votes.set(ctr.body.user + '-T', Date.now())\n\n\t\t// Return Result\n\t\treturn ctr.print({ success: true, message: 'VOTE RECIEVED' })\n\t}\n} as HTTPRouteFile<Body>"],
  "mappings": "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",
  "names": []
}
