{
  "version": 3,
  "sources": ["../../../src/functions/economy/items.ts"],
  "sourcesContent": ["// Connect to Database\nimport config from \"@config\"\nimport { default as pg } from \"pg\"\nconst db = new pg.Pool({\n\thost: config.database.oxbot.host,\n\tdatabase: config.database.oxbot.database,\n\tuser: config.database.oxbot.username,\n\tpassword: config.database.oxbot.password,\n\tport: 5432,\n\tssl: true\n})\n\n// Get Function\nexport const get = async(userId: string, type: any) => {\n\tconst data = await db.query(`select value, amount from useritems where userid = $1;`, [userId])\n\tif (data.rowCount !== 1) return 0\n\n\tif (type === null) return data.rows[0]\n\telse if (type === 'value') return data.rows[0].value\n\telse return Number(data.rows[0].amount)\n}\n\n// Set Function\nexport const set = async(userId: string, value: string, amount: number) => {\n\tconst data = await db.query(`select null from useritems where userid = $1;`, [userId])\n\tif (data.rowCount !== 1) {\n\t\tawait db.query(`insert into useritems values ($1, $2, $3)`, [\n\t\t\tuserId,\n\t\t\tvalue,\n\t\t\tamount\n\t\t])\n\t} else {\n\t\tif (!value) {\n\t\t\tawait db.query(`update useritems set amount = $1 where userid = $2;`, [\n\t\t\t\tamount,\n\t\t\t\tuserId\n\t\t\t])\n\t\t} else {\n\t\t\tawait db.query(`update useritems set value = $1 and amount = $2 where userid = $3;`, [\n\t\t\t\tvalue,\n\t\t\t\tamount,\n\t\t\t\tuserId\n\t\t\t])\n\t\t}\n\t}\n}\n\n// Add Function\nexport const add = async(userId: string, amount: number) => {\n\tconst data = await db.query(`select null from useritems where userid = $1;`, [userId])\n\tif (data.rowCount !== 1) {\n\t\tawait db.query(`insert into useritems values ($1, 0, $2)`, [\n\t\t\tuserId,\n\t\t\tamount\n\t\t])\n\t} else {\n\t\tawait db.query(`update useritems set amount = amount + $1 where userid = $2;`, [\n\t\t\tamount,\n\t\t\tuserId\n\t\t])\n\t}\n}\n\n// Add Function\nexport const rem = async(userId: string, amount: number) => {\n\tconst data = await db.query(`select null from useritems where userid = $1;`, [userId])\n\tif (data.rowCount !== 1) {\n\t\tawait db.query(`insert into useritems values ($1, 0, 0)`, [\n\t\t\tuserId\n\t\t])\n\t} else {\n\t\tawait db.query(`update useritems set amount = amount - $1 where userid = $2;`, [\n\t\t\tamount,\n\t\t\tuserId\n\t\t])\n\t}\n}\n\n// Del Function\nexport const del = async(userId: string) => {\n\tawait db.query(`delete from useritems where userId = $1;`, [userId])\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,oBAAmB;AACnB,gBAA8B;AAC9B,MAAM,KAAK,IAAI,UAAAA,QAAG,KAAK;AAAA,EACtB,MAAM,cAAAC,QAAO,SAAS,MAAM;AAAA,EAC5B,UAAU,cAAAA,QAAO,SAAS,MAAM;AAAA,EAChC,MAAM,cAAAA,QAAO,SAAS,MAAM;AAAA,EAC5B,UAAU,cAAAA,QAAO,SAAS,MAAM;AAAA,EAChC,MAAM;AAAA,EACN,KAAK;AACN,CAAC;AAGM,MAAM,MAAM,OAAM,QAAgB,SAAc;AACtD,QAAM,OAAO,MAAM,GAAG,MAAM,0DAA0D,CAAC,MAAM,CAAC;AAC9F,MAAI,KAAK,aAAa;AAAG,WAAO;AAEhC,MAAI,SAAS;AAAM,WAAO,KAAK,KAAK,CAAC;AAAA,WAC5B,SAAS;AAAS,WAAO,KAAK,KAAK,CAAC,EAAE;AAAA;AAC1C,WAAO,OAAO,KAAK,KAAK,CAAC,EAAE,MAAM;AACvC;AAGO,MAAM,MAAM,OAAM,QAAgB,OAAe,WAAmB;AAC1E,QAAM,OAAO,MAAM,GAAG,MAAM,iDAAiD,CAAC,MAAM,CAAC;AACrF,MAAI,KAAK,aAAa,GAAG;AACxB,UAAM,GAAG,MAAM,6CAA6C;AAAA,MAC3D;AAAA,MACA;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF,OAAO;AACN,QAAI,CAAC,OAAO;AACX,YAAM,GAAG,MAAM,uDAAuD;AAAA,QACrE;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF,OAAO;AACN,YAAM,GAAG,MAAM,sEAAsE;AAAA,QACpF;AAAA,QACA;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AACD;AAGO,MAAM,MAAM,OAAM,QAAgB,WAAmB;AAC3D,QAAM,OAAO,MAAM,GAAG,MAAM,iDAAiD,CAAC,MAAM,CAAC;AACrF,MAAI,KAAK,aAAa,GAAG;AACxB,UAAM,GAAG,MAAM,4CAA4C;AAAA,MAC1D;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF,OAAO;AACN,UAAM,GAAG,MAAM,gEAAgE;AAAA,MAC9E;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF;AACD;AAGO,MAAM,MAAM,OAAM,QAAgB,WAAmB;AAC3D,QAAM,OAAO,MAAM,GAAG,MAAM,iDAAiD,CAAC,MAAM,CAAC;AACrF,MAAI,KAAK,aAAa,GAAG;AACxB,UAAM,GAAG,MAAM,2CAA2C;AAAA,MACzD;AAAA,IACD,CAAC;AAAA,EACF,OAAO;AACN,UAAM,GAAG,MAAM,gEAAgE;AAAA,MAC9E;AAAA,MACA;AAAA,IACD,CAAC;AAAA,EACF;AACD;AAGO,MAAM,MAAM,OAAM,WAAmB;AAC3C,QAAM,GAAG,MAAM,4CAA4C,CAAC,MAAM,CAAC;AACpE;",
  "names": ["pg", "config"]
}
