{
  "version": 3,
  "sources": ["../../../../src/buttons/fun/rps/choice.ts"],
  "sourcesContent": ["import { EmbedBuilder } from \"discord.js\"\n\nimport ButtonInteraction from \"@/interfaces/ButtonInteraction\"\nexport default {\n\tdata: {\n\t\tname: 'rps-choice'\n\t},\n\n\tasync execute(ctx: ButtonInteraction, bet: number, choice: string) {\n\t\t// Get Users\n\t\tconst cache = ctx.interaction.message.embeds\n\t\tconst description = cache[0].description.toString().replace(/[^\\d@!]/g, '').split('!')[0].substring(1).split(\"@\")\n\t\tconst [ sender, reciever ] = description\n\n\t\t// Check if User is playing\n\t\tif (sender !== ctx.interaction.user.id && reciever !== ctx.interaction.user.id) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB You arent playing!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB Du spielst garnicht mit!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[BTN] RPS : NOTPLAYING`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}\n\n\t\t// Create Embed\n\t\tlet choiceen: string\n\t\tif (choice === 'ROCK') choiceen = '\uD83E\uDEA8 ROCK'\n\t\tif (choice === 'PAPER') choiceen = '\uD83D\uDCDD PAPER'\n\t\tif (choice === 'SCISSORS') choiceen = '\u2702\uFE0F SCISSORS'\n\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB ROCK PAPER SCISSORS')\n\t\t\t.setDescription(`\u00BB You selected **${choiceen}**!`)\n\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tlet choicede: string\n\t\t\tif (choice === 'ROCK') choicede = '\uD83E\uDEA8 STEIN'\n\t\t\tif (choice === 'PAPER') choicede = '\uD83D\uDCDD PAPIER'\n\t\t\tif (choice === 'SCISSORS') choicede = '\u2702\uFE0F SCHERE'\n\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB SCHERE STEIN PAPIER')\n\t\t\t\t.setDescription(`\u00BB Du hast **${choicede}** ausgew\u00E4hlt!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[BTN] RPS : ${choice}`)\n\t\tctx.interaction.reply({ embeds: [message], ephemeral: true })\n\n\t\t// Set Variable\n\t\tctx.bot.rps.set('CHOICE-' + ctx.interaction.user.id, choice)\n\n\t\t// Check if Game is Done\n\t\tif (ctx.bot.rps.has('CHOICE-' + sender) && ctx.bot.rps.has('CHOICE-' + reciever)) {\n\t\t\t// Calculate Winner\n\t\t\tconst psc = ctx.bot.rps.get('CHOICE-' + sender)\n\t\t\tconst prc = ctx.bot.rps.get('CHOICE-' + reciever)\n\t\t\tlet win = 'none'\n\t\t\tif (psc === 'ROCK' && prc === 'PAPER') win = 'pr'\n\t\t\tif (psc === 'ROCK' && prc === 'SCISSORS') win = 'ps'\n\t\t\tif (psc === 'SCISSORS' && prc === 'ROCK') win = 'pr'\n\t\t\tif (psc === 'SCISSORS' && prc === 'PAPER') win = 'ps'\n\t\t\tif (psc === 'PAPER' && prc === 'ROCK') win = 'ps'\n\t\t\tif (psc === 'PAPER' && prc === 'SCISSORS') win = 'pr'\n\n\t\t\t// Check Who Won\n\t\t\tlet winner = '**Noone**', rawWinner: string\n\t\t\tif (ctx.metadata.language === 'de') winner = '**Niemand**'\n\n\t\t\tif (win === 'ps') { winner = '<@' + sender + '>'; rawWinner = sender }\n\t\t\tif (win === 'pr') { winner = '<@' + reciever + '>'; rawWinner = reciever }\n\n\t\t\t// Transfer Money\n\t\t\tconst betwon = bet * 2; let transaction: any\n\t\t\tif (winner !== '**Noone**' && winner !== '**Niemand**') {\n\t\t\t\tctx.bot.money.add(ctx.interaction.guild.id, rawWinner, betwon)\n\n\t\t\t\t// Log Transaction\n\t\t\t\tif (betwon > 0) transaction = await ctx.bot.transactions.log({\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\tsender: {\n\t\t\t\t\t\tid: (rawWinner === sender ? reciever : sender),\n\t\t\t\t\t\tamount: betwon,\n\t\t\t\t\t\ttype: 'negative'\n\t\t\t\t\t}, reciever: {\n\t\t\t\t\t\tid: rawWinner,\n\t\t\t\t\t\tamount: betwon,\n\t\t\t\t\t\ttype: 'positive'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tctx.bot.money.add(ctx.interaction.guild.id, sender, bet)\n\t\t\t\tctx.bot.money.add(ctx.interaction.guild.id, reciever, bet)\n\t\t\t}\n\n\t\t\t// Edit Buttons\n\t\t\tfor (let i = 0; i < 4; i++) {\n\t\t\t\tconst row = Math.floor(i / 3)\n\n\t\t\t\tctx.components.rows[row].components[i % 3].setDisabled(true)\n\t\t\t}\n\n\t\t\t// Create Embed\n\t\t\tlet send: string, reci: string\n\t\t\tif (psc === 'SCISSORS') send = '\u2702\uFE0F SCISSORS'\n\t\t\tif (psc === 'PAPER') send = '\uD83D\uDCDD PAPER'\n\t\t\tif (psc === 'ROCK') send = '\uD83E\uDEA8 ROCK'\n\t\t\tif (prc === 'ROCK') reci = '\uD83E\uDEA8 ROCK'\n\t\t\tif (prc === 'PAPER') reci = '\uD83D\uDCDD PAPER'\n\t\t\tif (prc === 'SCISSORS') reci = '\u2702\uFE0F SCISSORS'\n\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB ROCK PAPER SCISSORS')\n\t\t\t\t.setDescription(`\n\t\t\t\t\t\u00BB <@${sender}> selected **${ctx.bot.rps.get('CHOICE-' + sender)}**\n\t\t\t\t\t\u00BB <@${reciever}> selected **${ctx.bot.rps.get('CHOICE-' + reciever)}**\n\t\t\t\t\t\n\t\t\t\t\t<:AWARD:1024385473524793445> ${winner} won **\\$${betwon}**.${(typeof transaction === 'object') ? `\\nID: ${transaction.id}` : ''}\n\t\t\t\t`).setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tif (psc === 'SCISSORS') send = '\u2702\uFE0F SCHERE'\n\t\t\t\tif (psc === 'PAPER') send = '\uD83D\uDCDD PAPIER'\n\t\t\t\tif (psc === 'ROCK') send = '\uD83E\uDEA8 STEIN'\n\t\t\t\tif (prc === 'ROCK') reci = '\uD83E\uDEA8 STEIN'\n\t\t\t\tif (prc === 'PAPER') reci = '\uD83D\uDCDD PAPIER'\n\t\t\t\tif (prc === 'SCISSORS') reci = '\u2702\uFE0F SCHERE'\n\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB SCHERE STEIN PAPIER')\n\t\t\t\t\t.setDescription(`\n\t\t\t\t\t\t\u00BB <@${sender}> w\u00E4hlte **${send}**\n\t\t\t\t\t\t\u00BB <@${reciever}> w\u00E4hlte **${reci}**\n\t\t\t\t\t\t\n\t\t\t\t\t\t<:AWARD:1024385473524793445> ${winner} hat **${betwon}\u20AC** gewonnen.${(typeof transaction === 'object') ? `\\nID: ${transaction.id}` : ''}\n\t\t\t\t\t`).setFooter({ text: '\u00BB ' + ctx.client.config.version })\n\t\t\t}\n\n\t\t\t// Delete Variables\n\t\t\tctx.bot.rps.delete('CHOICE-' + sender)\n\t\t\tctx.bot.rps.delete('CHOICE-' + reciever)\n\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[BTN] RPS : DONE`)\n\t\t\treturn ctx.interaction.message.edit({ embeds: [message], components: (ctx.components.getAPI()), ephemeral: true } as any)\n\t\t}\n\t}\n}"],
  "mappings": "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",
  "names": ["message"]
}
