{
  "version": 3,
  "sources": ["../../../../src/buttons/fun/tictactoe/cancel.ts"],
  "sourcesContent": ["import { EmbedBuilder } from \"discord.js\"\n\nimport ButtonInteraction from \"@/interfaces/ButtonInteraction\"\nexport default {\n\tdata: {\n\t\tname: 'ttt-cancel'\n\t},\n\n\tasync execute(ctx: ButtonInteraction, bet: number) {\n\t\t// Get Users\n\t\tconst cache = ctx.interaction.message.embeds\n\t\tconst description = cache[0].description.toString().replace(/[^\\d@!]/g, '').split('!')[0].substring(1).split(\"@\")\n\t\tconst [ sender, reciever ] = description\n\n\t\t// Check if User is Authorized\n\t\tif (ctx.interaction.user.id !== reciever && ctx.interaction.user.id !== sender) {\n\t\t\t// Create Embed\n\t\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB ERROR')\n\t\t\t\t.setDescription(`\u00BB <@${reciever}> or <@${sender}> has to decide this!`)\n\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\t\tif (ctx.metadata.language === 'de') {\n\t\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t\t.setTitle('<:EXCLAMATION:1024407166460891166> \u00BB FEHLER')\n\t\t\t\t\t.setDescription(`\u00BB <@${reciever}> oder <@${sender}> muss das entscheiden!`)\n\t\t\t\t\t.setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t\t}\n\t\t\t\n\t\t\t// Send Message\n\t\t\tctx.log(false, `[BTN] TICTACTOE : CANCEL : NOTALLOWED`)\n\t\t\treturn ctx.interaction.reply({ embeds: [message], ephemeral: true })\n\t\t}\n\n\t\t// Edit Buttons\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tconst row = Math.floor(i / 3)\n\n\t\t\tctx.components.rows[row].components[i % 3].setDisabled(true)\n\t\t}\n\n\t\t// Transfer Money\n\t\tconst betwon = bet * 2; let transaction: any\n\t\tctx.bot.money.add(ctx.interaction.guild.id, (ctx.interaction.user.id === sender ? reciever : sender), betwon)\n\n\t\t// Log Transaction\n\t\tif (betwon > 0) transaction = await ctx.bot.transactions.log({\n\t\t\tsuccess: true,\n\t\t\tsender: {\n\t\t\t\tid: (ctx.interaction.user.id === sender ? sender : reciever),\n\t\t\t\tamount: betwon,\n\t\t\t\ttype: 'negative'\n\t\t\t}, reciever: {\n\t\t\t\tid: (ctx.interaction.user.id === sender ? reciever : sender),\n\t\t\t\tamount: betwon,\n\t\t\t\ttype: 'positive'\n\t\t\t}\n\t\t})\n\n\t\t// Delete Variables\n\t\tctx.bot.game.delete('PLAYING-' + sender)\n\t\tctx.bot.game.delete('PLAYING-' + reciever)\n\n\t\tctx.bot.ttt.delete('TURN-' + sender)\n\t\tctx.bot.ttt.delete('TURN-' + reciever)\n\n\t\tctx.bot.ttt.delete('FIELDS-' + sender)\n\t\tctx.bot.ttt.delete('FIELDS-' + reciever)\n\n\t\tctx.bot.ttt.delete('FIELD-1-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-2-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-3-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-4-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-5-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-6-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-7-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-8-' + sender)\n\t\tctx.bot.ttt.delete('FIELD-9-' + sender)\n\n\t\t// Create Embed\n\t\tlet message = new EmbedBuilder().setColor(0x37009B)\n\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB TICTACTOE')\n\t\t\t.setDescription(`\n\t\t\t\t\u00BB <@${ctx.interaction.user.id}> cancelled the Game.\n\t\t\t\t<@${ctx.interaction.user.id === sender ? reciever : sender}> gets **$${betwon}**\n\t\t\t\t${(typeof transaction === 'object') ? `\\nID: ${transaction.id}` : ''}\n\t\t\t`).setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\n\t\tif (ctx.metadata.language === 'de') {\n\t\t\tmessage = new EmbedBuilder().setColor(0x37009B)\n\t\t\t\t.setTitle('<:GAMEPAD:1024395990679167066> \u00BB TICTACTOE')\n\t\t\t\t.setDescription(`\n\t\t\t\t\t\u00BB <@${ctx.interaction.user.id}> hat das Spiel abgebrochen.\n\t\t\t\t\t<@${ctx.interaction.user.id === sender ? reciever : sender}> kriegt **${betwon}\u20AC**\n\t\t\t\t\t${(typeof transaction === 'object') ? `\\nID: ${transaction.id}` : ''}\n\t\t\t\t`).setFooter({ text: '\u00BB ' + ctx.metadata.vote.text + ' \u00BB ' + ctx.client.config.version })\n\t\t}\n\n\t\t// Send Message\n\t\tctx.log(false, `[BTN] TICTACTOE : ${sender} : CANCEL`)\n\t\treturn ctx.interaction.update({ content: '', embeds: [message], components: (ctx.components.getAPI()) })\n\t}\n}"],
  "mappings": "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",
  "names": ["message"]
}
