{
  "version": 3,
  "sources": ["../../src/events/messagesend.ts"],
  "sourcesContent": ["import { ActionRowBuilder, ButtonBuilder, ButtonStyle } from \"discord.js\"\nimport { Events, Message } from \"discord.js\"\n\nimport * as bot from \"@/functions/bot\"\nimport Client from \"@/interfaces/Client\"\nexport default {\n\tname: 'MESSAGE SEND',\n\tevent: Events.MessageCreate,\n\tonce: false,\n\n\tasync execute(message: Message, client: Client) {\n\t\tif (!message.guildId) return\n\n\t\t// Get Guild Language\n\t\tconst guildlang = await bot.language.get(message.guildId)\n\n\t\t// Help System\n\t\tif (message.content === (`<@${client.config.client.id}>`)) {\n\t\t\tif (guildlang === 'de') return message.reply({ content: 'Ich nutze Slash Befehle, schreib `/` und seh!' })\n\t\t\telse return message.reply({ content: 'I use slash commands, type `/` and see!' })\n\t\t}\n\n\t\t// Level System\n\t\tif (!message.author.bot && Number(message.guildId) > 1000 && (await bot.settings.get(message.guildId, 'level'))) {\n\t\t\t// Calculate old Level\n\t\t\tconst oldCache = await bot.stat.get('u-' + message.author.id + '-' + message.guildId + '-C', 'msg')\n\n\t\t\tconst oldXP = Math.round(oldCache / 5)\n\t\t\tlet oldLevel = 0, oldLevelXP = oldXP\n\t\t\twhile (oldLevelXP >= 500) {\n\t\t\t\toldLevel++; oldLevelXP -= 500\n\t\t\t}\n\n\t\t\t// Level Stats\n\t\t\tawait bot.stat.add(`u-${message.author.id}-TOTAL-A`, 'msg', 1)\n\t\t\tawait bot.stat.add(`u-${message.author.id}-${message.guildId}-A`, 'msg', 1)\n\t\t\tawait bot.stat.add(`u-${message.author.id}-TOTAL-C`, 'msg', ((message.content.length > 1000) ? 100 : message.content.length))\n\t\t\tawait bot.stat.add(`u-${message.author.id}-${message.guildId}-C`, 'msg', ((message.content.length > 1000) ? 100 : message.content.length))\n\n\t\t\t// Calculate New Level\n\t\t\tconst newCache = await bot.stat.get('u-' + message.author.id + '-' + message.guildId + '-C', 'msg')\n\n\t\t\tconst newXP = Math.round(newCache / 5)\n\t\t\tlet newLevel = 0, newLevelXP = newXP\n\t\t\twhile (newLevelXP >= 500) {\n\t\t\t\tnewLevel++; newLevelXP -= 500\n\t\t\t}\n\n\t\t\t// Send LevelUp Message if needed\n\t\t\tif (oldLevel < newLevel) {\n\t\t\t\t// Create Button\n\t\t\t\tconst row = new ActionRowBuilder()\n\t\t\t\t\t.addComponents(\n\t\t\t\t\t\tnew ButtonBuilder()\n\t\t\t\t\t\t\t.setEmoji('1030476921777180672')\n\t\t\t\t\t\t\t.setCustomId('rem-levelmsg')\n\t\t\t\t\t\t\t.setStyle(ButtonStyle.Danger),\n\t\t\t\t\t)\n\n\t\t\t\t// Create Embed\n\t\t\t\tlet content = `\u00BB Good Writing <@${message.author.id}>! You are now Level **${newLevel}**.\\nTo view your level do </level:1030147810194100245>`\n\t\t\t\tif (guildlang === 'de') content = `\u00BB Gutes schreiben <@${message.author.id}>! Du bist nun Level **${newLevel}**.\\nZum anschauen deines Levels mach </level:1030147810194100245>`\n\n\t\t\t\t// Send Message\n\t\t\t\treturn message.reply({ content: content, components: [row as any] })\n\t\t\t}\n\t\t}\n\t}\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA6D;AAC7D,IAAAA,kBAAgC;AAEhC,UAAqB;AAErB,IAAO,sBAAQ;AAAA,EACd,MAAM;AAAA,EACN,OAAO,uBAAO;AAAA,EACd,MAAM;AAAA,EAEN,MAAM,QAAQ,SAAkB,QAAgB;AAC/C,QAAI,CAAC,QAAQ;AAAS;AAGtB,UAAM,YAAY,MAAM,IAAI,SAAS,IAAI,QAAQ,OAAO;AAGxD,QAAI,QAAQ,YAAa,KAAK,OAAO,OAAO,OAAO,OAAQ;AAC1D,UAAI,cAAc;AAAM,eAAO,QAAQ,MAAM,EAAE,SAAS,gDAAgD,CAAC;AAAA;AACpG,eAAO,QAAQ,MAAM,EAAE,SAAS,0CAA0C,CAAC;AAAA,IACjF;AAGA,QAAI,CAAC,QAAQ,OAAO,OAAO,OAAO,QAAQ,OAAO,IAAI,OAAS,MAAM,IAAI,SAAS,IAAI,QAAQ,SAAS,OAAO,GAAI;AAEhH,YAAM,WAAW,MAAM,IAAI,KAAK,IAAI,OAAO,QAAQ,OAAO,KAAK,MAAM,QAAQ,UAAU,MAAM,KAAK;AAElG,YAAM,QAAQ,KAAK,MAAM,WAAW,CAAC;AACrC,UAAI,WAAW,GAAG,aAAa;AAC/B,aAAO,cAAc,KAAK;AACzB;AAAY,sBAAc;AAAA,MAC3B;AAGA,YAAM,IAAI,KAAK,IAAI,KAAK,QAAQ,OAAO,cAAc,OAAO,CAAC;AAC7D,YAAM,IAAI,KAAK,IAAI,KAAK,QAAQ,OAAO,MAAM,QAAQ,aAAa,OAAO,CAAC;AAC1E,YAAM,IAAI,KAAK,IAAI,KAAK,QAAQ,OAAO,cAAc,OAAS,QAAQ,QAAQ,SAAS,MAAQ,MAAM,QAAQ,QAAQ,MAAO;AAC5H,YAAM,IAAI,KAAK,IAAI,KAAK,QAAQ,OAAO,MAAM,QAAQ,aAAa,OAAS,QAAQ,QAAQ,SAAS,MAAQ,MAAM,QAAQ,QAAQ,MAAO;AAGzI,YAAM,WAAW,MAAM,IAAI,KAAK,IAAI,OAAO,QAAQ,OAAO,KAAK,MAAM,QAAQ,UAAU,MAAM,KAAK;AAElG,YAAM,QAAQ,KAAK,MAAM,WAAW,CAAC;AACrC,UAAI,WAAW,GAAG,aAAa;AAC/B,aAAO,cAAc,KAAK;AACzB;AAAY,sBAAc;AAAA,MAC3B;AAGA,UAAI,WAAW,UAAU;AAExB,cAAM,MAAM,IAAI,gCAAiB,EAC/B;AAAA,UACA,IAAI,6BAAc,EAChB,SAAS,qBAAqB,EAC9B,YAAY,cAAc,EAC1B,SAAS,2BAAY,MAAM;AAAA,QAC9B;AAGD,YAAI,UAAU,uBAAoB,QAAQ,OAAO,4BAA4B;AAAA;AAC7E,YAAI,cAAc;AAAM,oBAAU,0BAAuB,QAAQ,OAAO,4BAA4B;AAAA;AAGpG,eAAO,QAAQ,MAAM,EAAE,SAAkB,YAAY,CAAC,GAAU,EAAE,CAAC;AAAA,MACpE;AAAA,IACD;AAAA,EACD;AACD;",
  "names": ["import_discord"]
}
